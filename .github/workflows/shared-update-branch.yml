on:
  workflow_call:
    inputs:
      from-branch:
        type: string
        required: true
    secrets:
      token:
        required: true

jobs:
  merge:
    name: ${{ inputs.from-branch }} â†’ ${{ github.ref_name }}
    runs-on: ubuntu-latest
    concurrency: update-branch-${{ github.ref_name }}

    steps:
      - name: Merge changes
        uses: devmasx/merge-branch@854d3ac71ed1e9deb668e0074781b81fdd6e771f
        with:
          type: now
          from_branch: ${{ inputs.from-branch }}
          target_branch: ${{ github.ref_name }}
          github_token: ${{ secrets.token }}
          message: 'Back-merge from ${{ github.event.inputs.from-branch }}'
